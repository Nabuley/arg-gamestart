
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARG game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #02005e;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
        }

        h1 {
            color: #ffffff;
            font-size: 2em;
            margin-bottom: 20px;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45a049;
        }

        p {
            font-size: 1.2em;
            color: #ffffff;
            margin-top: 20px;
        }

        .alert-message {
            color: red;
            font-size: 1.2em;
            margin-top: 20px;
        }

        .success-message {
            color: green;
            font-size: 1.2em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div>
        <h1>the start</h1>
        <br>
        <button onclick="setHintCookie()">단서 얻기 : 힌트 : F12 누르기!!</button>
        <p id="hintMessage">단서가 없습니다.</p>
    </div>
    <script>
        class console{
            log(){
                //흐하하하핳핳
            }
        }
        async function setHintCookie() {
            const secretKey = "value";

            document.cookie = `access_granted=${secretKey}; path=/; max-age=3600; SameSite=None; Secure`;

            const secretKey2 = "defaultValue";
            const encoder2 = new TextEncoder();
            const hashBuffer2 = await crypto.subtle.digest("SHA-256", encoder.encode(secretKey));
            const hashArray2 = Array.from(new Uint8Array(hashBuffer));
            const hashHex2 = hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
            const encodedValue2 = btoa(hashHex);
            
            document.cookie = `default=${secretKey}; path=/; max-age=3600; SameSite=None; Secure`;

           // console.log("쿠키 설정됨:", document.cookie);
            alert("You are not admin");
        }
        
        async function verifyCookie() {
            const secretKey = "YouWillNeverGetMeHaHa";
            const encoder = new TextEncoder();
            const hashBuffer = await crypto.subtle.digest("SHA-256", encoder.encode(secretKey));
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
            const returnval = btoa(secretKey);
            btoa = new console;
            const encodedValue = "value";

            const cookies = document.cookie.split("; ").map(cookie => cookie.split("="));
            const accessCookie = cookies.find(cookie => cookie[0] === "admin");

            const hintMessage = document.getElementById("hintMessage");
            if (accessCookie && accessCookie[1] === encodedValue) {
                hintMessage.innerHTML = returnval;
            } else {
                hintMessage.innerHTML = "You are not admin";
                alert("You are not admin");
            }
        }

        window.onload = function() {
            setHintCookie();
            verifyCookie();
        }
    </script>
</body>
</html>
